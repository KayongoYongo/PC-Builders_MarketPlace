{% extends "blog_app/base.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block title %}Blog list{% endblock %}
{% block head %}
    {{ super }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
{% endblock %}
{% block content %}
<div class="container">
    <h1>My Blog Posts</h1>
    {% for blog in blogs %}
        <div class="blog-post">
            <h2>{{ blog.title }}</h2>
            <div class="blog-content">
                {{ blog.content|safe }}
            </div>
            <p>By: {{ blog.author.username }} on {{ blog.created_at }}</p>
            <a href="{% url 'delete_blog' blog.id %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this blog post?');">Delete</a>
            <a href="{% url 'update_blog' blog.id %}" class="btn btn-primary" onclick="return confirm('Are you sure you want to update this blog post?');">Update</a>         
        </div>
        <hr>
    {% empty %}
        <p>You have not written any posts yet.</p>
    {% endfor %}
</div>
{% endblock %}