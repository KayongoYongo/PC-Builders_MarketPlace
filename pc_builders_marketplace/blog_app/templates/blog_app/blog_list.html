{% extends "blog_app/base.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block title %}Blog list{% endblock %}
{% block head %}
    {{ super }}
    <!-- Load Bootstrap CSS for styling -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
{% endblock %}
{% block content %}
<div class="container">
    <h1>Blogs</h1>
    <!-- Loop through each blog in the paginated page object -->
    {% for blog in page_obj %}
        <a href="{% url 'view_blog' blog.id %}" class="text-decoration-none text-reset">
            <div class="blog-post">
                <h2>{{ blog.title }}</h2>
                <div class="blog-content">
                    {{ blog.content|safe }}
                </div>
                <strong><p>By: {{ blog.author.username }} on {{ blog.created_at }}</p></strong>
            </div>
        </a>
        <hr>
    {% endfor %}

    {% if page_obj.has_previous %}
        <a href="?page=1">&laquo First</a>
        <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
    {% endif %}

    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}

    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">next</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">&raquo Last</a>
    {% endif %}

    <hr>

{% endblock %}